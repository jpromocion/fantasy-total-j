prompt --application/deployment/install/install_01_carga_tablas
begin
--   Manifest
--     INSTALL: INSTALL-01_carga_tablas
--   Manifest End
wwv_flow_imp.component_begin (
 p_version_yyyy_mm_dd=>'2023.04.28'
,p_release=>'23.1.2'
,p_default_workspace_id=>7231611737995830
,p_default_application_id=>102
,p_default_id_offset=>0
,p_default_owner=>'WKSP_CURSO'
);
wwv_flow_imp_shared.create_install_script(
 p_id=>wwv_flow_imp.id(18839669128117275)
,p_install_id=>wwv_flow_imp.id(17317298307119342)
,p_name=>'01_carga_tablas'
,p_sequence=>10
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'PROMPT Tables',
'create table FANTASY_SUPPLIER (',
'    id number generated by default on null as identity,',
'    name varchar2(100) not null,',
'    description varchar2(4000) null,',
'    urlgeneral varchar2(1000) not null,',
'    urlweekproyection varchar2(1000),',
'    created date not null,',
'    created_by varchar2(255 char) not null,',
'    updated date not null,',
'    updated_by varchar2(255 char) not null,',
'    visualorder number(2,0) null',
');',
'',
'alter table FANTASY_SUPPLIER add constraint FANTASY_SUPPLIER_PK primary key (id);',
'',
'create table FANTASY_POSITION (',
'    id number generated by default on null as identity,',
'    position varchar2(5) not null,',
'    name varchar2(100) not null,',
'    visualorder number(2,0) not null,',
'    created date not null,',
'    created_by varchar2(255 char) not null,',
'    updated date not null,',
'    updated_by varchar2(255 char) not null',
');',
'',
'alter table FANTASY_POSITION add constraint FANTASY_POSITION_PK primary key (id);',
'alter table FANTASY_POSITION add constraint FANTASY_POSITION_UK unique (position);',
'',
'',
'create table FANTASY_SEASON (',
'    id number generated by default on null as identity,',
'    season number(4,0) not null,',
'    descripcion varchar2(100) null,',
'    created date not null,',
'    created_by varchar2(255 char) not null,',
'    updated date not null,',
'    updated_by varchar2(255 char) not null',
');',
'',
'alter table FANTASY_SEASON add constraint FANTASY_SEASON_PK primary key (id);',
'alter table FANTASY_SEASON add constraint FANTASY_SEASON_UK unique (season);',
'',
'create table FANTASY_TEAM (',
'    id number generated by default on null as identity,',
'    team varchar2(50) not null,',
'    city varchar2(50) not null,',
'    urllogo varchar2(1000),',
'    created date not null,',
'    created_by varchar2(255 char) not null,',
'    updated date not null,',
'    updated_by varchar2(255 char) not null',
');',
'',
'alter table FANTASY_TEAM add constraint FANTASY_TEAM_PK primary key (id);',
'',
'create table FANTASY_PLAYER (',
'    id number generated by default on null as identity,',
'    idfantasyseason number(4,0) not null,',
'    name varchar2(50) not null,',
'    idfantasyposition number not null,',
'    created date not null,',
'    created_by varchar2(255 char) not null,',
'    updated date not null,',
'    updated_by varchar2(255 char) not null,',
'    urlphoto varchar2(1000),',
'    idfantasyteam number',
');',
'',
'alter table FANTASY_PLAYER add constraint FANTASY_PLAYER_PK primary key (id);',
'alter table FANTASY_PLAYER add constraint FANTASY_PLAYER_FK foreign  key (idfantasyseason) references FANTASY_SEASON(id);',
'alter table FANTASY_PLAYER add constraint FANTASY_PLAYER_FK2 foreign  key (idfantasyposition) references FANTASY_POSITION(id);',
'alter table FANTASY_PLAYER add constraint FANTASY_PLAYER_UK unique (idfantasyseason, name);',
'alter table FANTASY_PLAYER add constraint FANTASY_PLAYER_FK3 foreign  key (idfantasyteam) references FANTASY_TEAM(id);',
'',
'',
'create table FANTASY_PROYECTION (',
'    id number generated by default on null as identity,',
'    idfantasyseason number(4,0) not null,',
'    week number(2,0) not null,',
'    idfantasysupplier number not null,',
'    idfantasyposition number not null,',
'    idfantasyplayer number not null,',
'    created date not null,',
'    created_by varchar2(255 char) not null,',
'    updated date not null,',
'    updated_by varchar2(255 char) not null',
');',
'',
'alter table FANTASY_PROYECTION add constraint FANTASY_PROYECTION_PK primary key (id);',
'alter table FANTASY_PROYECTION add constraint FANTASY_PROYECTION_FK foreign  key (idfantasyseason) references FANTASY_SEASON(id);',
'alter table FANTASY_PROYECTION add constraint FANTASY_PROYECTION_FK2 foreign  key (idfantasysupplier) references FANTASY_SUPPLIER(id);',
'alter table FANTASY_PROYECTION add constraint FANTASY_PROYECTION_FK3 foreign  key (idfantasyposition) references FANTASY_POSITION(id);',
'alter table FANTASY_PROYECTION add constraint FANTASY_PROYECTION_FK4 foreign  key (idfantasyplayer) references FANTASY_PLAYER(id);',
'alter table FANTASY_PROYECTION add constraint FANTASY_PROYECTION_UK unique (idfantasyseason, week, idfantasysupplier, idfantasyposition);',
'',
'',
'',
'create table FANTASY_POINT (',
'    id number generated by default on null as identity,',
'    idfantasyseason number(4,0) not null,',
'    week number(2,0) not null,',
'    idfantasyplayer number not null,',
'    fantasypoints number(5,2) not null,',
'    created date not null,',
'    created_by varchar2(255 char) not null,',
'    updated date not null,',
'    updated_by varchar2(255 char) not null',
');',
'',
'alter table FANTASY_POINT add constraint FANTASY_POINT_PK primary key (id);',
'alter table FANTASY_POINT add constraint FANTASY_POINT_FK foreign  key (idfantasyseason) references FANTASY_SEASON(id);',
'alter table FANTASY_POINT add constraint FANTASY_POINT_FK2 foreign  key (idfantasyplayer) references FANTASY_PLAYER(id);',
'alter table FANTASY_POINT add constraint FANTASY_POINT_UK unique (idfantasyseason, week, idfantasyplayer);',
'',
'',
'create table FANTASY_VALUE (',
'    id number generated by default on null as identity,',
'    idfantasyseason number(4,0) not null,',
'    week number(2,0) not null,',
'    idfantasysupplier number not null,',
'    winpoint number(2,0) default 0 not null,',
'    created date not null,',
'    created_by varchar2(255 char) not null,',
'    updated date not null,',
'    updated_by varchar2(255 char) not null',
');',
'',
'alter table FANTASY_VALUE add constraint FANTASY_VALUE_PK primary key (id);',
'alter table FANTASY_VALUE add constraint FANTASY_VALUE_FK foreign  key (idfantasyseason) references FANTASY_SEASON(id);',
'alter table FANTASY_VALUE add constraint FANTASY_VALUE_FK2 foreign  key (idfantasysupplier) references FANTASY_SUPPLIER(id);',
'alter table FANTASY_VALUE add constraint FANTASY_VALUE_UK unique (idfantasyseason, week, idfantasysupplier);',
'',
'',
''))
);
wwv_flow_imp.component_end;
end;
/
